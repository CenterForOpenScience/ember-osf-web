<div class="container" local-class="Forks">
    {{#bs-modal open=newModal onSubmit=(action 'newRegistration') onHide=(action (mut newModal) false) as |m|}}
        {{#m.header}}
            {{t 'node.registrations.new_registration_modal.header'}}
        {{/m.header}}
        {{#m.body}}
            <p>{{t 'node.registrations.new_registration_modal.info'}}</p>
            <ul>
                {{#each metaschemas as |schema|}}
                    <li>{{input type='radio' name='selectedSchema' value=schema}}{{schema.name}}</li>
                {{/each}}
            </ul>
        {{/m.body}}
        {{#m.footer}}
            {{#bs-button onClick=(action (mut newModal) false)}}{{t 'general.cancel'}}{{/bs-button}}
            {{#bs-button onClick=(action m.submit) type='info'}}{{t 'node.registrations.new_registration_modal.create'}}{{/bs-button}}
        {{/m.footer}}
    {{/bs-modal}}

    <div class="m-md" local-class="Forks__nav">
        <ul class="nav nav-tabs">
          <li>
              <a aria-controls="registrations">Registrations</a>
          </li>
          <li class="active">
              <a aria-controls="drafts">Draft Registrations</a>
          </li>
        </ul>
    </div>
    <div local-class="Forks__forks">
        {{#if getRegistrations.isRunning}}
            {{loading-indicator dark=true}}
        {{else}}
            {{#if registrations.length}}
                <ul class="list-group m-md">
                    <span class="render-nodes-list">
                        {{#each registrations as | registration |}}
                            <li class="project list-group-item list-group-item-node cite-container">
                                {{node-blurb node=registration blurbType='registration'}}
                            </li>
                        {{/each}}
                    </span>
                </ul>
                {{simple-paginator maxPage=maxPage nextPage=(action 'next') previousPage=(action 'previous') curPage=page}}
            {{else}}
                {{t 'registrations.no_registration'}}
            {{/if}}
        {{/if}}

    </div>
    <div local-class="Forks__new-fork">
        <div class="m-md">
            {{#bs-button type='success' disabled=loadingNew onClick=(action (mut newModal) true)}}
                {{#if loadingNew}}
                    {{t 'forks.loading_new'}}
                {{else}}
                    {{t 'forks.new'}}
                {{/if}}
            {{/bs-button}}
        </div>
    </div>
</div>
