{{#let
    (component 'settings/addons/-components/addon')
    (component 'settings/addons/-components/addon-data')
    (component 'settings/addons/-components/addon-loader')
    (component 'settings/addons/-components/token-addon')
    as |Addon AddonData AddonLoader TokenAddon|
}}
    <Panel as |panel|>
        <panel.heading @title={{t 'settings.addons.title'}} />
        <panel.body>
            <AddonData
                @models={{models}}
                @loader={{AddonLoader}}
                as |data|
            >
                {{#each data.addons as |addon|}}
                    <div local-class="addon">
                        {{#if (eq addon.auth.type 'token_auth')}}
                            <TokenAddon
                                @addon={{addon}}
                                @userAddons={{data.userAddons}}
                            />
                        {{else if (eq addon.auth.type 'user_auth')}}
                            <Addon
                                @addon={{addon}}
                                @userAddons={{data.userAddons}}
                            />
                        {{else if (eq addon.auth.type 'key_auth')}}
                            <Addon
                                @addon={{addon}}
                                @userAddons={{data.userAddons}}
                            />
                        {{else}}
                            <Addon
                                @addon={{addon}}
                                @userAddons={{data.userAddons}}
                            />
                        {{/if}}
                    </div>
                {{/each}}
            </AddonData>
        </panel.body>
    </Panel>
{{/let}}
