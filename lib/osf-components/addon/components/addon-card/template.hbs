<div
    local-class='card-wrapper'
    data-test-addon-card={{@addon.provider.name}}
    data-analytics-scope={{concat 'Addon card' @addon.provider.name}}
>
    <img
        data-test-addon-card-logo
        src={{this.assetLogo}}
        alt={{t 'osf-components.addon-card.provider-logo-alt' provider=@addon.provider.name}}
        local-class='addon-card-logo'
    />
    <div
        data-test-addon-card-title
        local-class='provider-name'
    >
        {{@addon.provider.name}}
    </div>
    
    <div local-class='buttons-wrapper'>
        {{#if this.addonIsConfigured}}
            <Button
                data-test-addon-card-edit
                data-analytics-name='Edit'
                {{on 'click' (fn @manager.configureProvider @addon)}}
            >
                {{t 'general.edit'}}
            </Button>
            <Button
                data-test-addon-card-disconnect
                data-analytics-name='Disconnect'
                local-class='disconnect'
                {{on 'click' (action (mut this.deleteModalOpen) true)}}
            >
                {{t 'osf-components.addon-card.disconnect'}}
            </Button>
        {{else}}
            <Button
                data-test-addon-card-connect
                data-analytics-name='Connect'
                {{on 'click' (fn @manager.beginAccountSetup @addon)}}
            >
                {{t 'osf-components.addon-card.connect'}}
            </Button>
        {{/if}}
    </div>
</div>
{{#if this.addonIsConfigured}}
    <OsfDialog
        @isOpen={{this.deleteModalOpen}}
        @onClose={{action this.closeDeleteModal}}
        as |dialog|
    >
        <dialog.heading>
            {{t 'osf-components.addon-card.disconnect-modal-header'}}
        </dialog.heading>
        <dialog.main>
            <p>
                {{t 'osf-components.addon-card.disconnect-modal-body'}}
            </p>
        </dialog.main>
        <dialog.footer data-analytics-scope='Disconnect addon modal'>
            <Button
                data-test-addon-disconnect-cancel
                data-analytics-name='Cancel'
                @type='secondary'
                {{on 'click' dialog.close}}
            >
                {{t 'general.cancel'}}
            </Button>
            <Button
                data-test-addon-disconnect-modal-confirm
                data-analytics-name='Confirm Disconnect'
                @type='destroy'
                disabled={{this.disableAddon.isRunning}}
                {{on 'click' (perform this.disableAddon)}}
            >
                {{t 'osf-components.addon-card.disconnect'}}
            </Button>
        </dialog.footer>
    </OsfDialog>
{{/if}}

