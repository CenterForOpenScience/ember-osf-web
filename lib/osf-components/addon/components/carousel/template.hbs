<section
    data-test-carousel-container
    data-analytics-scope='Carousel'
    local-class='carousel-container'
    aria-label={{t 'osf-components.carousel.aria_label.section'}}
    tabindex='0'
    {{on 'focus' this.registerKeyboard}}
    ...attributes
>
    {{yield (hash header=(component 'carousel/x-header'))}}
    <div
        data-test-dot-navigation
        role='tablist'
        local-class='carousel-dotnav'
        aria-label={{t 'osf-components.carousel.aria_label.dot_nav'}}
        id='dotNav'
        tabindex='0'
    >
        {{#each this.carouselItems as |item|}}
            <div
                data-test-navigation-item
                role='tab'
                local-class={{if item.isActive 'current' ''}}
                aria-selected={{if item.isActive 'true' 'false'}}
                tabindex='0'
            >
                <button
                    data-test-navigation-button
                    data-analytics-name='Go to slide {{item.slideIndex}}'
                    data-slide={{item.index}}
                    aria-label={{t 'osf-components.carousel.go_to_slide' slideIndex=item.slideIndex}}
                    type='button'
                    tabindex='0'
                    {{action this.navClick item}}
                >
                    <div local-class='visually-hidden'>{{item.slideIndex}}</div>
                    {{#if item.isActive}}
                        <div local-class='visually-hidden'>{{t 'osf-components.carousel.current_slide'}}</div>
                    {{/if}}
                </button>
            </div>
        {{/each}}
    </div>
    <div local-class='carousel-slide'>
        <BsButton
            data-test-carousel-button-previous
            data-analytics-name='Previous slide'
            local-class='previous-slide'
            id='leftNav'
            aria-label={{t 'osf-components.carousel.aria_label.previous_testimonial'}}
            tabindex='0'
            @type='button'
            @onClick={{action this.changeSlide 'previous'}}
        >
            <img
                data-test-previous-arrow
                src='/assets/images/dashboard/arrow.svg'
                alt={{t 'osf-components.carousel.previous_slide'}}
            >
        </BsButton>
        <ul local-class='item-list'>
            {{yield (hash slide=(component 'carousel/x-item' register=(action this.register) allItems=this.carouselItems))}}
        </ul>
        <BsButton
            data-test-carousel-button-next
            data-analytics-name='Next slide'
            local-class='next-slide'
            id='rightNav'
            aria-label={{t 'osf-components.carousel.aria_label.next_testimonial'}}
            tabindex='0'
            @type='button'
            @onClick={{action this.changeSlide 'next'}}
        >
            <img
                data-test-next-arrow
                src='/assets/images/dashboard/arrow.svg'
                alt={{t 'osf-components.carousel.next_slide'}}
            >
        </BsButton>
    </div>
</section>
