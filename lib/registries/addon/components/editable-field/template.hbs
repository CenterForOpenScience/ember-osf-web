<this.manager as |manager|>
    <div local-class='Editable'>
        {{#if manager.shouldShowTitle}}
            <h4>{{@title}}</h4>
        {{/if}}
        {{#if @registration.userHasAdminPermission}}
            <OsfButton
               data-test-edit-button={{@name}}
               aria-label={{t 'general.edit'}}
               data-analytics-name='Edit'
               local-class='EditButton'
               @type='link'
               @onClick={{action (mut this.shouldShowEditable) true}}
            >
                <FaIcon @icon='pencil' @fixedWidth={{true}} />
            </OsfButton>
        {{/if}}
    </div>

    {{#if manager.shouldShowEmptyFieldText}}
        {{manager.emptyFieldText}}
    {{/if}}

    {{#unless manager.fieldIsEmpty}}
        {{yield (hash
            display=(component 'editable-field/block')
            manager=manager
        )}}
    {{/unless}}

    <BsModal
        @open={{this.shouldShowEditable}}
        @onHide={{action manager.cancel (action this.hideEditable)}}
        as |modal|
    >
        <modal.header>
            <h3 class='modal-title'>
                {{t 'registries.registration_metadata.edit_field' field=@name}}
            </h3>
        </modal.header>
        <modal.body>
            <div data-test-editable-view-modal>
                {{yield (hash
                    edit=(component 'editable-field/block')
                    manager=manager
                    shouldShowEditable=this.shouldShowEditable
                    hideEditable=(action this.hideEditable)
                )}}
                {{#if manager.fieldChanged}}
                    <div local-class='Controls'>
                        {{#if manager.save}}
                            <OsfButton
                                data-test-save-edits
                                data-analytics-name='Save'
                                @type='primary'
                                @size='sm'
                                @disabled={{manager.shouldDisableButtons}}
                                @onClick={{action manager.save (action this.hideEditable)}}
                            >
                                {{t 'general.save'}}
                            </OsfButton>
                        {{/if}}
                        {{#if manager.cancel}}
                            <OsfButton
                                data-test-discard-edits
                                data-analytics-name='Discard'
                                @size='sm'
                                @disabled={{manager.shouldDisableButtons}}
                                @onClick={{action manager.cancel (action this.hideEditable)}}
                            >
                                {{t 'general.cancel'}}
                            </OsfButton>
                        {{/if}}
                    </div>
                {{/if}}
            </div>
        </modal.body>
    </BsModal>
</this.manager>
