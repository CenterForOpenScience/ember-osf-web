{{#if @manager.loading}}
    <ContentPlaceholders as |placeholder|>
        <placeholder.text @lines={{1}} />
    </ContentPlaceholders>
{{else}}
    <label local-class='subject-text' data-test-subject-id={{@manager.subject.id}}>
        {{input
            type='checkbox'
            change=(action @manager.onChange @manager.subject)
            checked=@manager.selected
        }}
        {{#if @manager.hasChildren}}
            <OsfButton
                local-class='expand-button'
                @type='link'
                @onClick={{action @manager.toggleChildren}}
            >
                {{@manager.subject.text}}
                <FaIcon @icon='caret-{{if @manager.shouldShowChildren 'up' 'down'}}' @fixedWidth={{true}} />
            </OsfButton>
            {{#if @manager.shouldShowChildren}}
                <div local-class='children'>
                    {{#each @manager.children as |child|}}
                        <SubjectWidget::Browser::ItemManager
                            @subject={{child}}
                            @manager={{@manager.subjectManager}}
                            as |itemManager|
                        >
                            <SubjectWidget::Browser::Item @manager={{itemManager}} />
                        </SubjectWidget::Browser::ItemManager>
                    {{/each}}
                </div>
            {{/if}}
        {{else}}
            {{@manager.subject.text}}
        {{/if}}
    </label>
{{/if}}
